---
title: "online-news-popularity"
author: "Sneh Gurdasani, Akshit Jain, Farhan Ansari, Sagar Singh"
date: "11/11/2019"
output: pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(ggplot2)
```

## Load and Tidy Dataset
```{r f1, echo = FALSE}
get_tidy_data <- function(df) {
  # extracting date and title from url string
  clustering_df <- df %>% 
    mutate(date = as.Date(sub(".*?\\b(\\d{4}/\\d{1,2}/\\d{1,2})\\b.*", "\\1", url)),
           article_title = word(url, -2, sep = '/'))
  other_df <- df %>% gather(key='category', value='is_category',
                            data_channel_is_lifestyle, data_channel_is_entertainment,
                            data_channel_is_bus, data_channel_is_socmed, data_channel_is_tech,
                            data_channel_is_world) %>%
    filter(is_category == 1) %>%
    select(-is_category)
  other_df
}
```

```{r}
df <- read_csv("OnlineNewsPopularity/OnlineNewsPopularity.csv", col_types = cols())
df1 <- get_tidy_data(df)
df1
```

```{r f1, eval = FALSE}
```

